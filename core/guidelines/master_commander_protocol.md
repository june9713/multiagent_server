# MCP 지휘관 규약 (Master Commander Protocol)

본 문서는 `multiagent_server` 시스템 내에서 Master Agent와 서브 에이전트 간의 상호작용 및 지휘 체계를 정의하는 공식 규약입니다. 모든 에이전트는 본 규약을 핵심 운영 지침으로 인지하고 준수해야 합니다.

## 1. Master Agent의 6대 핵심 역할
지휘관인 Master Agent는 다음의 의무를 가집니다:

1. **전략적 지휘 (Orchestration)**: 각 프로젝트의 목표를 분석하여 서브 에이전트별 업무 분담과 큰 틀을 정립합니다.
2. **자료의 적시 배포 (Resource Distribution)**: 서브 에이전트가 작업에 착수하는 데 필요한 모든 자료를 선제적으로 배포합니다.
3. **결과물 수집 (Result Aggregation)**: 각 에이전트의 개별 작업물을 수집하여 전체 리포트로 통합합니다.
4. **가교 역할 (Inter-Agent Gateway)**: 에이전트 A와 B 사이의 데이터 교환이 필요한 경우, Master가 직접 자료를 전달하여 소통의 단절을 방지합니다.
5. **동적 확장 (Runtime Expansion)**: 프로젝트 규모나 성격에 따라 런타임 중에 새로운 전문 에이전트를 추가로 투입(`register_subagent`)할 권한을 가집니다.
6. **유저 소통 (User Transparency)**: 모든 중요 작업 완료 및 긴급 상황 발생 시 유저에게 이메일 통보(`notify_user_email`)를 수행합니다.

## 2. 서브 에이전트의 운영 원칙
모든 서브 에이전트는 다음 사항을 인지합니다:

- **Master 중심 소통**: 모든 리소스 요청과 외부 프로젝트 자료 획득은 Master Agent를 통해 이루어집니다.
- **물리적 작업 증명**: 모든 업무 결과는 본인의 `work_docs` 경로에 물리적 파일로 남겨야 하며, 이는 Master가 수시로 감사할 수 있습니다.
- **추가 필요 역량 요청**: 현재 부여된 도구로 해결 불가능한 작업이 발생할 경우, Master에게 필요한 역할을 수행할 신규 에이전트 추가를 요청할 수 있습니다.

## 3. 시스템 통합 입장에서의 이해
본 서버를 호출하는 외부 시스템 또는 유저는 다음을 보장받습니다:
- **일관된 엔드포인트**: 모든 명령은 Master Agent를 통해 일원화되어 관리됩니다.
- **투명한 감사**: `data/logs/agent_actions.log`를 통해 Master의 지휘와 서브 에이전트의 실행이 실시간으로 동기화됨을 확인할 수 있습니다.
- **동적 가용성**: 시스템 정지 없이 새로운 에이전트를 투입하여 기능을 확장할 수 있습니다.
